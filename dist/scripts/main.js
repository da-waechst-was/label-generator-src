(function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.container=e,this.render=t(this.render,this),this.setupForm=t(this.setupForm,this),this.setupColorChooser=t(this.setupColorChooser,this),this.setupKGAChooser=t(this.setupKGAChooser,this),this.background=$(".label-background",this.container),this.name=$(".name",this.container),this.from=$(".from",this.container),this.date=$(".date",this.container),this.freeLine=$(".free-line",this.container),this.setupForm(),this.setupColorChooser(),this.setupKGAChooser(),this.render()}return e.colors=["bordeaux","himbeere","apricot"],e.kgas=["","Bornholm Eins e.V.","Bornholm Zwei e.V"],e.prototype.setupKGAChooser=function(){var t,r,n,o,i;for(o=e.kgas,i=[],t=0,n=o.length;t<n;t++)r=o[t],i.push($("#select-kga").append("<option value='"+r+"'>"+r+"</option>"));return i},e.prototype.setupColorChooser=function(){var t,r,n,o;for(o=e.colors,r=0,n=o.length;r<n;r++)t=o[r],$(".color-chooser").append("<li class='"+t+"' data-color='"+t+"'></li> ");return $(".color-chooser li").click(function(r){return function(n){return t=$(n.currentTarget).data("color"),r.background.prop("src","images/labels/"+t+".jpg"),r.container.removeClass(e.colors.join(" ")).addClass(t)}}(this))},e.prototype.setupForm=function(){var e,t,r,n,o;for(e=(new Date).getFullYear(),n=[e,e-1,e-2,e-3],t=0,r=n.length;t<r;t++)o=n[t],$("#select-year").append($("<option>",{value:o,text:o}));return $("#input-name").keyup(this.render),$("#input-parcel").keyup(this.render),$("#input-parcel").change(this.render),$("#input-free-text").keyup(this.render),$("#select-kga").change(this.render),$("#select-month").change(this.render),$("#select-year").change(this.render),$("#button-print").click(function(e){return function(){return e.container.print("styles/main.css")}}(this))},e.prototype.render=function(){var e,t,r;return this.name.text($("#input-name").val()),e="Vom "+$("#select-month").val()+" "+$("#select-year").val(),this.date.text(e),r="Parzelle "+$("#input-parcel").val(),t=$("#select-kga").val(),this.from.text(r+" | "+t),this.freeLine.text($("#input-free-text").val())},e}(),function(){return function(){return $.fn.extend({print:function(e){var t,r,n,o;return r="printIframe",t=window.frames[r],t||($("<iframe>").hide().attr("name",r).appendTo(document.body),t=window.frames[r],n=t.document.head,o=t.document.createElement("link"),o.type="text/css",o.rel="stylesheet",o.href=e,n.appendChild(o)),t.document.body.innerHTML=this.parent().html(),t.window.print(),this}})}(),new e($(".preview-screen"))}()}).call(this);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi92aWV3X2hhbmRsZXIuY29mZmVlIiwibWFpbi5qcyIsIm1haW4uY29mZmVlIiwibGliL2pxdWVyeS5wcmludC5jb2ZmZWUiXSwibmFtZXMiOlsiVmlld0hhbmRsZXIiLCJiaW5kIiwiZm4iLCJtZSIsImFwcGx5IiwiYXJndW1lbnRzIiwiY29udGFpbmVyIiwidGhpcyIsInJlbmRlciIsInNldHVwRm9ybSIsInNldHVwQ29sb3JDaG9vc2VyIiwic2V0dXBLR0FDaG9vc2VyIiwiYmFja2dyb3VuZCIsIiQiLCJuYW1lIiwiZnJvbSIsImRhdGUiLCJmcmVlTGluZSIsImNvbG9ycyIsImtnYXMiLCJwcm90b3R5cGUiLCJpIiwia2dhIiwibGVuIiwicmVmIiwicmVzdWx0cyIsImxlbmd0aCIsInB1c2giLCJhcHBlbmQiLCJjb2xvciIsImNsaWNrIiwiX3RoaXMiLCJlIiwiY3VycmVudFRhcmdldCIsImRhdGEiLCJwcm9wIiwicmVtb3ZlQ2xhc3MiLCJqb2luIiwiYWRkQ2xhc3MiLCJjdXJyZW50WWVhciIsInllYXIiLCJEYXRlIiwiZ2V0RnVsbFllYXIiLCJ2YWx1ZSIsInRleHQiLCJrZXl1cCIsImNoYW5nZSIsInByaW50IiwicGFyY2VsIiwidmFsIiwiZXh0ZW5kIiwic3R5bGVGaWxlIiwiZG9jIiwiZnJhbWVOYW1lIiwiaGVhZCIsImxpbmsiLCJ3aW5kb3ciLCJmcmFtZXMiLCJoaWRlIiwiYXR0ciIsImFwcGVuZFRvIiwiZG9jdW1lbnQiLCJib2R5IiwiY3JlYXRlRWxlbWVudCIsInR5cGUiLCJyZWwiLCJocmVmIiwiYXBwZW5kQ2hpbGQiLCJpbm5lckhUTUwiLCJwYXJlbnQiLCJodG1sIiwiY2FsbCJdLCJtYXBwaW5ncyI6IkNBQ0EsV0FBQSxHQUFBQSxHQUFBQyxFQUFBLFNBQUFDLEVBQUFDLEdBQUEsTUFBQSxZQUFBLE1BQUFELEdBQUFFLE1BQUFELEVBQUFFLFlBQUFMLEdBQUEsV0FhQSxRQUFBQSxHQUFBTSxHQUFBQyxLQUFBRCxVQUFBQSxFQ0hNQyxLQUFLQyxPQUFTUCxFQUFLTSxLQUFLQyxPQUFRRCxNQUNoQ0EsS0FBS0UsVUFBWVIsRUFBS00sS0FBS0UsVUFBV0YsTUFDdENBLEtBQUtHLGtCQUFvQlQsRUFBS00sS0FBS0csa0JBQW1CSCxNQUN0REEsS0FBS0ksZ0JBQWtCVixFQUFLTSxLQUFLSSxnQkFBaUJKLE1EQ3hEQSxLQUFBSyxXQUFBQyxFQUFBLG9CQUFBTixLQUFBRCxXQUNBQyxLQUFBTyxLQUFBRCxFQUFBLFFBQUFOLEtBQUFELFdBQ0FDLEtBQUFRLEtBQUFGLEVBQUEsUUFBQU4sS0FBQUQsV0FDQUMsS0FBQVMsS0FBQUgsRUFBQSxRQUFBTixLQUFBRCxXQUNBQyxLQUFBVSxTQUFBSixFQUFBLGFBQUFOLEtBQUFELFdBRUFDLEtBQUFFLFlBQ0FGLEtBQUFHLG9CQUNBSCxLQUFBSSxrQkFDQUosS0FBQUMsU0NpRUksTUR2RkpSLEdBQUFrQixRQUNBLFdBQ0EsV0FDQSxXQUdBbEIsRUFBQW1CLE1BQ0EsR0FDQSxxQkFDQSxxQkNlSW5CLEVBQVlvQixVREFoQlQsZ0JBQUEsV0FDQSxHQUFBVSxHQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxDQ0dNLEtESE5ELEVBQUF4QixFQUFBbUIsS0FBQU0sS0FBQUosRUFBQSxFQUFBRSxFQUFBQyxFQUFBRSxPQUFBTCxFQUFBRSxFQUFBRixJQ0lRQyxFQUFNRSxFQUFJSCxHQUNWSSxFQUFRRSxLREpoQmQsRUFBQSxlQUFBZSxPQUFBLGtCQUFBTixFQUFBLEtBQUFBLEVBQUEsYUNNTSxPQUFPRyxJQUdUekIsRUFBWW9CLFVEUGhCVixrQkFBQSxXQUNBLEdBQUFtQixHQUFBUixFQUFBRSxFQUFBQyxDQUFBLEtBQUFBLEVBQUF4QixFQUFBa0IsT0FBQUcsRUFBQSxFQUFBRSxFQUFBQyxFQUFBRSxPQUFBTCxFQUFBRSxFQUFBRixJQ1VRUSxFQUFRTCxFQUFJSCxHRFRwQlIsRUFBQSxrQkFBQWUsT0FBQSxjQUFBQyxFQUFBLGlCQUFBQSxFQUFBLFdDWU0sT0RWTmhCLEdBQUEscUJBQUFpQixNQUFBLFNBQUFDLEdDV1EsTURYUixVQUFBQyxHQ2NVLE1EYlZILEdBQUFoQixFQUFBbUIsRUFBQUMsZUFBQUMsS0FBQSxTQUNBSCxFQUFBbkIsV0FBQXVCLEtBQUEsTUFBQSxpQkFBQU4sRUFBQSxRQUNBRSxFQUFBekIsVUFBQThCLFlBQUFwQyxFQUFBa0IsT0FBQW1CLEtBQUEsTUFDQUMsU0FBQVQsS0FKQXRCLFFDbUJJUCxFQUFZb0IsVURaaEJYLFVBQUEsV0FDQSxHQUFBOEIsR0FBQWxCLEVBQUFFLEVBQUFDLEVBQUFnQixDQUNBLEtBREFELEdBQUEsR0FBQUUsT0FBQUMsY0FDQWxCLEdBQUFlLEVBQUFBLEVBQUEsRUFBQUEsRUFBQSxFQUFBQSxFQUFBLEdBQUFsQixFQUFBLEVBQUFFLEVBQUFDLEVBQUFFLE9BQUFMLEVBQUFFLEVBQUFGLElDZVFtQixFQUFPaEIsRUFBSUgsR0RkbkJSLEVBQUEsZ0JBQUFlLE9BQUFmLEVBQUEsWUFBQThCLE1BQUFILEVBQUFJLEtBQUFKLElDMkJNLE9EekJOM0IsR0FBQSxlQUFBZ0MsTUFBQXRDLEtBQUFDLFFBQ0FLLEVBQUEsaUJBQUFnQyxNQUFBdEMsS0FBQUMsUUFDQUssRUFBQSxpQkFBQWlDLE9BQUF2QyxLQUFBQyxRQUNBSyxFQUFBLG9CQUFBZ0MsTUFBQXRDLEtBQUFDLFFBQ0FLLEVBQUEsZUFBQWlDLE9BQUF2QyxLQUFBQyxRQUNBSyxFQUFBLGlCQUFBaUMsT0FBQXZDLEtBQUFDLFFBQ0FLLEVBQUEsZ0JBQUFpQyxPQUFBdkMsS0FBQUMsUUFFQUssRUFBQSxpQkFBQWlCLE1BQUEsU0FBQUMsR0NrQlEsTURsQlIsWUNtQlUsTURsQlZBLEdBQUF6QixVQUFBeUMsTUFBQSxxQkFEQXhDLFFDd0JJUCxFQUFZb0IsVURwQmhCWixPQUFBLFdBQ0EsR0FBQVEsR0FBQU0sRUFBQTBCLENDMkJNLE9EM0JOekMsTUFBQU8sS0FBQThCLEtBQUEvQixFQUFBLGVBQUFvQyxPQUVBakMsRUFBQSxPQUFBSCxFQUFBLGlCQUFBb0MsTUFBQSxJQUFBcEMsRUFBQSxnQkFBQW9DLE1BQ0ExQyxLQUFBUyxLQUFBNEIsS0FBQTVCLEdBRUFnQyxFQUFBLFlBQUFuQyxFQUFBLGlCQUFBb0MsTUFDQTNCLEVBQUFULEVBQUEsZUFBQW9DLE1BQ0ExQyxLQUFBUSxLQUFBNkIsS0FBQUksRUFBQSxNQUFBMUIsR0FFQWYsS0FBQVUsU0FBQTJCLEtBQUEvQixFQUFBLG9CQUFBb0MsUUNxQldqRCxLQ3RGWCxXRGlISSxNRXBISixZRitGTSxNRTlGTmEsR0FBQVgsR0FBQWdELFFBQUFILE1BQUEsU0FBQUksR0FDQSxHQUFBQyxHQUFBQyxFQUFBQyxFQUFBQyxDRjhHVSxPRTlHVkYsR0FBQSxjQUNBRCxFQUFBSSxPQUFBQyxPQUFBSixHQUNBRCxJQUNBdkMsRUFBQSxZQUFBNkMsT0FBQUMsS0FBQSxPQUFBTixHQUFBTyxTQUFBQyxTQUFBQyxNQUNBVixFQUFBSSxPQUFBQyxPQUFBSixHQUNBQyxFQUFBRixFQUFBUyxTQUFBUCxLQUNBQyxFQUFBSCxFQUFBUyxTQUFBRSxjQUFBLFFBQ0FSLEVBQUFTLEtBQUEsV0FDQVQsRUFBQVUsSUFBQSxhQUNBVixFQUFBVyxLQUFBZixFQUNBRyxFQUFBYSxZQUFBWixJQUVBSCxFQUFBUyxTQUFBQyxLQUFBTSxVQUFBN0QsS0FBQThELFNBQUFDLE9BQ0FsQixFQUFBSSxPQUFBVCxRQUNBeEMsV0RWQSxHQUFBUCxHQUFBYSxFQUFBLHlCRGlIRzBELEtBQUtoRSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG5jbGFzcyBWaWV3SGFuZGxlclxuICBAY29sb3JzID0gW1xuICAgICdib3JkZWF1eCdcbiAgICAnaGltYmVlcmUnXG4gICAgJ2Fwcmljb3QnXG4gIF1cblxuICBAa2dhcyA9IFtcbiAgICAnJ1xuICAgICdCb3JuaG9sbSBFaW5zIGUuVi4nXG4gICAgJ0Jvcm5ob2xtIFp3ZWkgZS5WJ1xuICBdXG5cbiAgY29uc3RydWN0b3I6IChAY29udGFpbmVyKSAtPlxuICAgIEBiYWNrZ3JvdW5kID0gJCgnLmxhYmVsLWJhY2tncm91bmQnLCBAY29udGFpbmVyKVxuICAgIEBuYW1lICAgICAgID0gJCgnLm5hbWUnLCBAY29udGFpbmVyKVxuICAgIEBmcm9tICAgICAgID0gJCgnLmZyb20nLCBAY29udGFpbmVyKVxuICAgIEBkYXRlICAgICAgID0gJCgnLmRhdGUnLCBAY29udGFpbmVyKVxuICAgIEBmcmVlTGluZSAgID0gJCgnLmZyZWUtbGluZScsIEBjb250YWluZXIpXG5cbiAgICBAc2V0dXBGb3JtKClcbiAgICBAc2V0dXBDb2xvckNob29zZXIoKVxuICAgIEBzZXR1cEtHQUNob29zZXIoKVxuICAgIEByZW5kZXIoKVxuXG4gIHNldHVwS0dBQ2hvb3NlcjogPT5cbiAgICBmb3Iga2dhIGluIFZpZXdIYW5kbGVyLmtnYXNcbiAgICAgICQoJyNzZWxlY3Qta2dhJykuYXBwZW5kKFwiPG9wdGlvbiB2YWx1ZT0nI3trZ2F9Jz4je2tnYX08L29wdGlvbj5cIilcblxuICBzZXR1cENvbG9yQ2hvb3NlcjogPT5cbiAgICBmb3IgY29sb3IgaW4gVmlld0hhbmRsZXIuY29sb3JzXG4gICAgICAkKCcuY29sb3ItY2hvb3NlcicpLmFwcGVuZChcIjxsaSBjbGFzcz0nI3tjb2xvcn0nIGRhdGEtY29sb3I9JyN7Y29sb3J9Jz48L2xpPiBcIilcblxuICAgICQoJy5jb2xvci1jaG9vc2VyIGxpJykuY2xpY2soIChlKSA9PlxuICAgICAgY29sb3IgPSAkKGUuY3VycmVudFRhcmdldCkuZGF0YSgnY29sb3InKVxuICAgICAgQGJhY2tncm91bmQucHJvcCgnc3JjJywgXCJpbWFnZXMvbGFiZWxzLyN7Y29sb3J9LmpwZ1wiKVxuICAgICAgQGNvbnRhaW5lci5yZW1vdmVDbGFzcyhWaWV3SGFuZGxlci5jb2xvcnMuam9pbignICcpKVxuICAgICAgICAgICAgICAgIC5hZGRDbGFzcyhjb2xvcilcbiAgICApXG5cbiAgc2V0dXBGb3JtOiA9PlxuICAgIGN1cnJlbnRZZWFyID0gKG5ldyBEYXRlKCkpLmdldEZ1bGxZZWFyKClcbiAgICBmb3IgeWVhciBpbiBbY3VycmVudFllYXIsIGN1cnJlbnRZZWFyIC0gMSwgY3VycmVudFllYXIgLSAyLCBjdXJyZW50WWVhciAtIDNdXG4gICAgICAkKCcjc2VsZWN0LXllYXInKS5hcHBlbmQoJCgnPG9wdGlvbj4nLCB7dmFsdWU6IHllYXIsIHRleHQ6IHllYXJ9KSlcblxuICAgICQoJyNpbnB1dC1uYW1lJykua2V5dXAgQHJlbmRlclxuICAgICQoJyNpbnB1dC1wYXJjZWwnKS5rZXl1cCBAcmVuZGVyXG4gICAgJCgnI2lucHV0LXBhcmNlbCcpLmNoYW5nZSBAcmVuZGVyXG4gICAgJCgnI2lucHV0LWZyZWUtdGV4dCcpLmtleXVwIEByZW5kZXJcbiAgICAkKCcjc2VsZWN0LWtnYScpLmNoYW5nZSBAcmVuZGVyXG4gICAgJCgnI3NlbGVjdC1tb250aCcpLmNoYW5nZSBAcmVuZGVyXG4gICAgJCgnI3NlbGVjdC15ZWFyJykuY2hhbmdlIEByZW5kZXJcblxuICAgICQoJyNidXR0b24tcHJpbnQnKS5jbGljayggPT5cbiAgICAgIEBjb250YWluZXIucHJpbnQoXCJzdHlsZXMvbWFpbi5jc3NcIilcbiAgICApXG5cbiAgcmVuZGVyOiA9PlxuICAgIEBuYW1lLnRleHQoJCgnI2lucHV0LW5hbWUnKS52YWwoKSlcblxuICAgIGRhdGUgICA9ICdWb20gJyArICQoJyNzZWxlY3QtbW9udGgnKS52YWwoKSArICcgJyArICQoJyNzZWxlY3QteWVhcicpLnZhbCgpXG4gICAgQGRhdGUudGV4dChkYXRlKVxuXG4gICAgcGFyY2VsID0gJ1BhcnplbGxlICcgKyAkKCcjaW5wdXQtcGFyY2VsJykudmFsKClcbiAgICBrZ2EgICAgPSAkKCcjc2VsZWN0LWtnYScpLnZhbCgpXG4gICAgQGZyb20udGV4dChcIiN7cGFyY2VsfSB8ICN7a2dhfVwiKVxuXG4gICAgQGZyZWVMaW5lLnRleHQoJCgnI2lucHV0LWZyZWUtdGV4dCcpLnZhbCgpKVxuIiwiKGZ1bmN0aW9uKCkge1xuICB2YXIgVmlld0hhbmRsZXIsXG4gICAgYmluZCA9IGZ1bmN0aW9uKGZuLCBtZSl7IHJldHVybiBmdW5jdGlvbigpeyByZXR1cm4gZm4uYXBwbHkobWUsIGFyZ3VtZW50cyk7IH07IH07XG5cbiAgVmlld0hhbmRsZXIgPSAoZnVuY3Rpb24oKSB7XG4gICAgVmlld0hhbmRsZXIuY29sb3JzID0gWydib3JkZWF1eCcsICdoaW1iZWVyZScsICdhcHJpY290J107XG5cbiAgICBWaWV3SGFuZGxlci5rZ2FzID0gWycnLCAnQm9ybmhvbG0gRWlucyBlLlYuJywgJ0Jvcm5ob2xtIFp3ZWkgZS5WJ107XG5cbiAgICBmdW5jdGlvbiBWaWV3SGFuZGxlcihjb250YWluZXIpIHtcbiAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgICAgdGhpcy5yZW5kZXIgPSBiaW5kKHRoaXMucmVuZGVyLCB0aGlzKTtcbiAgICAgIHRoaXMuc2V0dXBGb3JtID0gYmluZCh0aGlzLnNldHVwRm9ybSwgdGhpcyk7XG4gICAgICB0aGlzLnNldHVwQ29sb3JDaG9vc2VyID0gYmluZCh0aGlzLnNldHVwQ29sb3JDaG9vc2VyLCB0aGlzKTtcbiAgICAgIHRoaXMuc2V0dXBLR0FDaG9vc2VyID0gYmluZCh0aGlzLnNldHVwS0dBQ2hvb3NlciwgdGhpcyk7XG4gICAgICB0aGlzLmJhY2tncm91bmQgPSAkKCcubGFiZWwtYmFja2dyb3VuZCcsIHRoaXMuY29udGFpbmVyKTtcbiAgICAgIHRoaXMubmFtZSA9ICQoJy5uYW1lJywgdGhpcy5jb250YWluZXIpO1xuICAgICAgdGhpcy5mcm9tID0gJCgnLmZyb20nLCB0aGlzLmNvbnRhaW5lcik7XG4gICAgICB0aGlzLmRhdGUgPSAkKCcuZGF0ZScsIHRoaXMuY29udGFpbmVyKTtcbiAgICAgIHRoaXMuZnJlZUxpbmUgPSAkKCcuZnJlZS1saW5lJywgdGhpcy5jb250YWluZXIpO1xuICAgICAgdGhpcy5zZXR1cEZvcm0oKTtcbiAgICAgIHRoaXMuc2V0dXBDb2xvckNob29zZXIoKTtcbiAgICAgIHRoaXMuc2V0dXBLR0FDaG9vc2VyKCk7XG4gICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH1cblxuICAgIFZpZXdIYW5kbGVyLnByb3RvdHlwZS5zZXR1cEtHQUNob29zZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBpLCBrZ2EsIGxlbiwgcmVmLCByZXN1bHRzO1xuICAgICAgcmVmID0gVmlld0hhbmRsZXIua2dhcztcbiAgICAgIHJlc3VsdHMgPSBbXTtcbiAgICAgIGZvciAoaSA9IDAsIGxlbiA9IHJlZi5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBrZ2EgPSByZWZbaV07XG4gICAgICAgIHJlc3VsdHMucHVzaCgkKCcjc2VsZWN0LWtnYScpLmFwcGVuZChcIjxvcHRpb24gdmFsdWU9J1wiICsga2dhICsgXCInPlwiICsga2dhICsgXCI8L29wdGlvbj5cIikpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfTtcblxuICAgIFZpZXdIYW5kbGVyLnByb3RvdHlwZS5zZXR1cENvbG9yQ2hvb3NlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGNvbG9yLCBpLCBsZW4sIHJlZjtcbiAgICAgIHJlZiA9IFZpZXdIYW5kbGVyLmNvbG9ycztcbiAgICAgIGZvciAoaSA9IDAsIGxlbiA9IHJlZi5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBjb2xvciA9IHJlZltpXTtcbiAgICAgICAgJCgnLmNvbG9yLWNob29zZXInKS5hcHBlbmQoXCI8bGkgY2xhc3M9J1wiICsgY29sb3IgKyBcIicgZGF0YS1jb2xvcj0nXCIgKyBjb2xvciArIFwiJz48L2xpPiBcIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gJCgnLmNvbG9yLWNob29zZXIgbGknKS5jbGljaygoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICBjb2xvciA9ICQoZS5jdXJyZW50VGFyZ2V0KS5kYXRhKCdjb2xvcicpO1xuICAgICAgICAgIF90aGlzLmJhY2tncm91bmQucHJvcCgnc3JjJywgXCJpbWFnZXMvbGFiZWxzL1wiICsgY29sb3IgKyBcIi5qcGdcIik7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLmNvbnRhaW5lci5yZW1vdmVDbGFzcyhWaWV3SGFuZGxlci5jb2xvcnMuam9pbignICcpKS5hZGRDbGFzcyhjb2xvcik7XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKSk7XG4gICAgfTtcblxuICAgIFZpZXdIYW5kbGVyLnByb3RvdHlwZS5zZXR1cEZvcm0gPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBjdXJyZW50WWVhciwgaSwgbGVuLCByZWYsIHllYXI7XG4gICAgICBjdXJyZW50WWVhciA9IChuZXcgRGF0ZSgpKS5nZXRGdWxsWWVhcigpO1xuICAgICAgcmVmID0gW2N1cnJlbnRZZWFyLCBjdXJyZW50WWVhciAtIDEsIGN1cnJlbnRZZWFyIC0gMiwgY3VycmVudFllYXIgLSAzXTtcbiAgICAgIGZvciAoaSA9IDAsIGxlbiA9IHJlZi5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB5ZWFyID0gcmVmW2ldO1xuICAgICAgICAkKCcjc2VsZWN0LXllYXInKS5hcHBlbmQoJCgnPG9wdGlvbj4nLCB7XG4gICAgICAgICAgdmFsdWU6IHllYXIsXG4gICAgICAgICAgdGV4dDogeWVhclxuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgICAkKCcjaW5wdXQtbmFtZScpLmtleXVwKHRoaXMucmVuZGVyKTtcbiAgICAgICQoJyNpbnB1dC1wYXJjZWwnKS5rZXl1cCh0aGlzLnJlbmRlcik7XG4gICAgICAkKCcjaW5wdXQtcGFyY2VsJykuY2hhbmdlKHRoaXMucmVuZGVyKTtcbiAgICAgICQoJyNpbnB1dC1mcmVlLXRleHQnKS5rZXl1cCh0aGlzLnJlbmRlcik7XG4gICAgICAkKCcjc2VsZWN0LWtnYScpLmNoYW5nZSh0aGlzLnJlbmRlcik7XG4gICAgICAkKCcjc2VsZWN0LW1vbnRoJykuY2hhbmdlKHRoaXMucmVuZGVyKTtcbiAgICAgICQoJyNzZWxlY3QteWVhcicpLmNoYW5nZSh0aGlzLnJlbmRlcik7XG4gICAgICByZXR1cm4gJCgnI2J1dHRvbi1wcmludCcpLmNsaWNrKChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLmNvbnRhaW5lci5wcmludChcInN0eWxlcy9tYWluLmNzc1wiKTtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpKTtcbiAgICB9O1xuXG4gICAgVmlld0hhbmRsZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGRhdGUsIGtnYSwgcGFyY2VsO1xuICAgICAgdGhpcy5uYW1lLnRleHQoJCgnI2lucHV0LW5hbWUnKS52YWwoKSk7XG4gICAgICBkYXRlID0gJ1ZvbSAnICsgJCgnI3NlbGVjdC1tb250aCcpLnZhbCgpICsgJyAnICsgJCgnI3NlbGVjdC15ZWFyJykudmFsKCk7XG4gICAgICB0aGlzLmRhdGUudGV4dChkYXRlKTtcbiAgICAgIHBhcmNlbCA9ICdQYXJ6ZWxsZSAnICsgJCgnI2lucHV0LXBhcmNlbCcpLnZhbCgpO1xuICAgICAga2dhID0gJCgnI3NlbGVjdC1rZ2EnKS52YWwoKTtcbiAgICAgIHRoaXMuZnJvbS50ZXh0KHBhcmNlbCArIFwiIHwgXCIgKyBrZ2EpO1xuICAgICAgcmV0dXJuIHRoaXMuZnJlZUxpbmUudGV4dCgkKCcjaW5wdXQtZnJlZS10ZXh0JykudmFsKCkpO1xuICAgIH07XG5cbiAgICByZXR1cm4gVmlld0hhbmRsZXI7XG5cbiAgfSkoKTtcblxuICAoZnVuY3Rpb24oKSB7XG4gICAgKGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICQuZm4uZXh0ZW5kKHtcbiAgICAgICAgcHJpbnQ6IGZ1bmN0aW9uKHN0eWxlRmlsZSkge1xuICAgICAgICAgIHZhciBkb2MsIGZyYW1lTmFtZSwgaGVhZCwgbGluaztcbiAgICAgICAgICBmcmFtZU5hbWUgPSAncHJpbnRJZnJhbWUnO1xuICAgICAgICAgIGRvYyA9IHdpbmRvdy5mcmFtZXNbZnJhbWVOYW1lXTtcbiAgICAgICAgICBpZiAoIWRvYykge1xuICAgICAgICAgICAgJCgnPGlmcmFtZT4nKS5oaWRlKCkuYXR0cignbmFtZScsIGZyYW1lTmFtZSkuYXBwZW5kVG8oZG9jdW1lbnQuYm9keSk7XG4gICAgICAgICAgICBkb2MgPSB3aW5kb3cuZnJhbWVzW2ZyYW1lTmFtZV07XG4gICAgICAgICAgICBoZWFkID0gZG9jLmRvY3VtZW50LmhlYWQ7XG4gICAgICAgICAgICBsaW5rID0gZG9jLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuICAgICAgICAgICAgbGluay50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuICAgICAgICAgICAgbGluay5yZWwgPSBcInN0eWxlc2hlZXRcIjtcbiAgICAgICAgICAgIGxpbmsuaHJlZiA9IHN0eWxlRmlsZTtcbiAgICAgICAgICAgIGhlYWQuYXBwZW5kQ2hpbGQobGluayk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRvYy5kb2N1bWVudC5ib2R5LmlubmVySFRNTCA9IHRoaXMucGFyZW50KCkuaHRtbCgpO1xuICAgICAgICAgIGRvYy53aW5kb3cucHJpbnQoKTtcbiAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSkoKTtcbiAgICByZXR1cm4gbmV3IFZpZXdIYW5kbGVyKCQoJy5wcmV2aWV3LXNjcmVlbicpKTtcbiAgfSkoKTtcblxufSkuY2FsbCh0aGlzKTtcbiIsIlxuIz0gaW5jbHVkZSBsaWIvdmlld19oYW5kbGVyLmNvZmZlZVxuXG5kbyAtPlxuICAjPSBpbmNsdWRlIGxpYi9qcXVlcnkucHJpbnQuY29mZmVlXG5cbiAgbmV3IFZpZXdIYW5kbGVyKCQoJy5wcmV2aWV3LXNjcmVlbicpKVxuIiwiZG8gLT5cbiAgJC5mbi5leHRlbmQgcHJpbnQ6IChzdHlsZUZpbGUpLT5cbiAgICBmcmFtZU5hbWUgPSAncHJpbnRJZnJhbWUnXG4gICAgZG9jID0gd2luZG93LmZyYW1lc1tmcmFtZU5hbWVdXG4gICAgaWYgIWRvY1xuICAgICAgJCgnPGlmcmFtZT4nKS5oaWRlKCkuYXR0cignbmFtZScsIGZyYW1lTmFtZSkuYXBwZW5kVG8gZG9jdW1lbnQuYm9keVxuICAgICAgZG9jID0gd2luZG93LmZyYW1lc1tmcmFtZU5hbWVdXG4gICAgICBoZWFkID0gZG9jLmRvY3VtZW50LmhlYWRcbiAgICAgIGxpbmsgPSBkb2MuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIilcbiAgICAgIGxpbmsudHlwZSA9IFwidGV4dC9jc3NcIlxuICAgICAgbGluay5yZWwgPSBcInN0eWxlc2hlZXRcIlxuICAgICAgbGluay5ocmVmID0gc3R5bGVGaWxlXG4gICAgICBoZWFkLmFwcGVuZENoaWxkKGxpbmspXG5cbiAgICBkb2MuZG9jdW1lbnQuYm9keS5pbm5lckhUTUwgPSBAcGFyZW50KCkuaHRtbCgpXG4gICAgZG9jLndpbmRvdy5wcmludCgpXG4gICAgdGhpc1xuIl19
