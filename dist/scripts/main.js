(function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.container=e,this.render=t(this.render,this),this.setupForm=t(this.setupForm,this),this.setupColorChooser=t(this.setupColorChooser,this),this.background=$(".label-background",this.container),this.name=$(".name",this.container),this.from=$(".from",this.container),this.date=$(".date",this.container),this.freeLine=$(".free-line",this.container),this.setupForm(),this.setupColorChooser(),this.render()}return e.colors=["bordeaux","himbeere","apricot"],e.prototype.setupColorChooser=function(){var t,r,n,i;for(i=e.colors,r=0,n=i.length;r<n;r++)t=i[r],$(".color-chooser").append("<li class='"+t+"' data-color='"+t+"'></li> ");return $(".color-chooser li").click(function(r){return function(n){return t=$(n.currentTarget).data("color"),r.background.prop("src","images/labels/"+t+".jpg"),r.container.removeClass(e.colors.join(" ")).addClass(t)}}(this))},e.prototype.setupForm=function(){var e,t,r,n,i;for(e=(new Date).getFullYear(),n=[e,e-1,e-2,e-3],t=0,r=n.length;t<r;t++)i=n[t],$("#select-year").append($("<option>",{value:i,text:i}));return $("#input-name").keyup(this.render),$("#input-parcel").keyup(this.render),$("#input-parcel").change(this.render),$("#input-free-text").keyup(this.render),$("#select-kga").change(this.render),$("#select-month").change(this.render),$("#select-year").change(this.render),$("#button-print").click(function(e){return function(){return e.container.print("styles/main.css")}}(this))},e.prototype.render=function(){var e,t,r;return this.name.text($("#input-name").val()),e="Vom "+$("#select-month").val()+" "+$("#select-year").val(),this.date.text(e),r="Parzelle "+$("#input-parcel").val(),t=$("#select-kga").val(),this.from.text(r+" | "+t),this.freeLine.text($("#input-free-text").val())},e}(),function(){return function(){return $.fn.extend({print:function(e){var t,r,n,i;return r="printIframe",t=window.frames[r],t||($("<iframe>").hide().attr("name",r).appendTo(document.body),t=window.frames[r],n=t.document.head,i=t.document.createElement("link"),i.type="text/css",i.rel="stylesheet",i.href=e,n.appendChild(i)),t.document.body.innerHTML=this.parent().html(),t.window.print(),this}})}(),new e($(".preview-screen"))}()}).call(this);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi92aWV3X2hhbmRsZXIuY29mZmVlIiwibWFpbi5qcyIsIm1haW4uY29mZmVlIiwibGliL2pxdWVyeS5wcmludC5jb2ZmZWUiXSwibmFtZXMiOlsiVmlld0hhbmRsZXIiLCJiaW5kIiwiZm4iLCJtZSIsImFwcGx5IiwiYXJndW1lbnRzIiwiY29udGFpbmVyIiwidGhpcyIsInJlbmRlciIsInNldHVwRm9ybSIsInNldHVwQ29sb3JDaG9vc2VyIiwiYmFja2dyb3VuZCIsIiQiLCJuYW1lIiwiZnJvbSIsImRhdGUiLCJmcmVlTGluZSIsImNvbG9ycyIsInByb3RvdHlwZSIsImNvbG9yIiwiaSIsImxlbiIsInJlZiIsImxlbmd0aCIsImFwcGVuZCIsImNsaWNrIiwiX3RoaXMiLCJlIiwiY3VycmVudFRhcmdldCIsImRhdGEiLCJwcm9wIiwicmVtb3ZlQ2xhc3MiLCJqb2luIiwiYWRkQ2xhc3MiLCJjdXJyZW50WWVhciIsInllYXIiLCJEYXRlIiwiZ2V0RnVsbFllYXIiLCJ2YWx1ZSIsInRleHQiLCJrZXl1cCIsImNoYW5nZSIsInByaW50Iiwia2dhIiwicGFyY2VsIiwidmFsIiwiZXh0ZW5kIiwic3R5bGVGaWxlIiwiZG9jIiwiZnJhbWVOYW1lIiwiaGVhZCIsImxpbmsiLCJ3aW5kb3ciLCJmcmFtZXMiLCJoaWRlIiwiYXR0ciIsImFwcGVuZFRvIiwiZG9jdW1lbnQiLCJib2R5IiwiY3JlYXRlRWxlbWVudCIsInR5cGUiLCJyZWwiLCJocmVmIiwiYXBwZW5kQ2hpbGQiLCJpbm5lckhUTUwiLCJwYXJlbnQiLCJodG1sIiwiY2FsbCJdLCJtYXBwaW5ncyI6IkNBQ0EsV0FBQSxHQUFBQSxHQUFBQyxFQUFBLFNBQUFDLEVBQUFDLEdBQUEsTUFBQSxZQUFBLE1BQUFELEdBQUFFLE1BQUFELEVBQUFFLFlBQUFMLEdBQUEsV0FPQSxRQUFBQSxHQUFBTSxHQUFBQyxLQUFBRCxVQUFBQSxFQ0NNQyxLQUFLQyxPQUFTUCxFQUFLTSxLQUFLQyxPQUFRRCxNQUNoQ0EsS0FB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QUFKLEdBQ0FDLEVBQUFGLEVBQUFTLFNBQUFQLEtBQ0FDLEVBQUFILEVBQUFTLFNBQUFFLGNBQUEsUUFDQVIsRUFBQVMsS0FBQSxXQUNBVCxFQUFBVSxJQUFBLGFBQ0FWLEVBQUFXLEtBQUFmLEVBQ0FHLEVBQUFhLFlBQUFaLElBRUFILEVBQUFTLFNBQUFDLEtBQUFNLFVBQUF6RCxLQUFBMEQsU0FBQUMsT0FDQWxCLEVBQUFJLE9BQUFWLFFBQ0FuQyxXRFZBLEdBQUFQLEdBQUFZLEVBQUEseUJEa0dHdUQsS0FBSzVEIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbmNsYXNzIFZpZXdIYW5kbGVyXG4gIEBjb2xvcnMgPSBbXG4gICAgJ2JvcmRlYXV4J1xuICAgICdoaW1iZWVyZSdcbiAgICAnYXByaWNvdCdcbiAgXVxuXG4gIGNvbnN0cnVjdG9yOiAoQGNvbnRhaW5lcikgLT5cbiAgICBAYmFja2dyb3VuZCA9ICQoJy5sYWJlbC1iYWNrZ3JvdW5kJywgQGNvbnRhaW5lcilcbiAgICBAbmFtZSAgICAgICA9ICQoJy5uYW1lJywgQGNvbnRhaW5lcilcbiAgICBAZnJvbSAgICAgICA9ICQoJy5mcm9tJywgQGNvbnRhaW5lcilcbiAgICBAZGF0ZSAgICAgICA9ICQoJy5kYXRlJywgQGNvbnRhaW5lcilcbiAgICBAZnJlZUxpbmUgICA9ICQoJy5mcmVlLWxpbmUnLCBAY29udGFpbmVyKVxuXG4gICAgQHNldHVwRm9ybSgpXG4gICAgQHNldHVwQ29sb3JDaG9vc2VyKClcbiAgICBAcmVuZGVyKClcblxuICBzZXR1cENvbG9yQ2hvb3NlcjogPT5cbiAgICBmb3IgY29sb3IgaW4gVmlld0hhbmRsZXIuY29sb3JzXG4gICAgICAkKCcuY29sb3ItY2hvb3NlcicpLmFwcGVuZChcIjxsaSBjbGFzcz0nI3tjb2xvcn0nIGRhdGEtY29sb3I9JyN7Y29sb3J9Jz48L2xpPiBcIilcblxuICAgICQoJy5jb2xvci1jaG9vc2VyIGxpJykuY2xpY2soIChlKSA9PlxuICAgICAgY29sb3IgPSAkKGUuY3VycmVudFRhcmdldCkuZGF0YSgnY29sb3InKVxuICAgICAgQGJhY2tncm91bmQucHJvcCgnc3JjJywgXCJpbWFnZXMvbGFiZWxzLyN7Y29sb3J9LmpwZ1wiKVxuICAgICAgQGNvbnRhaW5lci5yZW1vdmVDbGFzcyhWaWV3SGFuZGxlci5jb2xvcnMuam9pbignICcpKVxuICAgICAgICAgICAgICAgIC5hZGRDbGFzcyhjb2xvcilcbiAgICApXG5cbiAgc2V0dXBGb3JtOiA9PlxuICAgIGN1cnJlbnRZZWFyID0gKG5ldyBEYXRlKCkpLmdldEZ1bGxZZWFyKClcbiAgICBmb3IgeWVhciBpbiBbY3VycmVudFllYXIsIGN1cnJlbnRZZWFyIC0gMSwgY3VycmVudFllYXIgLSAyLCBjdXJyZW50WWVhciAtIDNdXG4gICAgICAkKCcjc2VsZWN0LXllYXInKS5hcHBlbmQoJCgnPG9wdGlvbj4nLCB7dmFsdWU6IHllYXIsIHRleHQ6IHllYXJ9KSlcblxuICAgICQoJyNpbnB1dC1uYW1lJykua2V5dXAgQHJlbmRlclxuICAgICQoJyNpbnB1dC1wYXJjZWwnKS5rZXl1cCBAcmVuZGVyXG4gICAgJCgnI2lucHV0LXBhcmNlbCcpLmNoYW5nZSBAcmVuZGVyXG4gICAgJCgnI2lucHV0LWZyZWUtdGV4dCcpLmtleXVwIEByZW5kZXJcbiAgICAkKCcjc2VsZWN0LWtnYScpLmNoYW5nZSBAcmVuZGVyXG4gICAgJCgnI3NlbGVjdC1tb250aCcpLmNoYW5nZSBAcmVuZGVyXG4gICAgJCgnI3NlbGVjdC15ZWFyJykuY2hhbmdlIEByZW5kZXJcblxuICAgICQoJyNidXR0b24tcHJpbnQnKS5jbGljayggPT5cbiAgICAgIEBjb250YWluZXIucHJpbnQoXCJzdHlsZXMvbWFpbi5jc3NcIilcbiAgICApXG5cbiAgcmVuZGVyOiA9PlxuICAgIEBuYW1lLnRleHQoJCgnI2lucHV0LW5hbWUnKS52YWwoKSlcblxuICAgIGRhdGUgICA9ICdWb20gJyArICQoJyNzZWxlY3QtbW9udGgnKS52YWwoKSArICcgJyArICQoJyNzZWxlY3QteWVhcicpLnZhbCgpXG4gICAgQGRhdGUudGV4dChkYXRlKVxuXG4gICAgcGFyY2VsID0gJ1BhcnplbGxlICcgKyAkKCcjaW5wdXQtcGFyY2VsJykudmFsKClcbiAgICBrZ2EgICAgPSAkKCcjc2VsZWN0LWtnYScpLnZhbCgpXG4gICAgQGZyb20udGV4dChcIiN7cGFyY2VsfSB8ICN7a2dhfVwiKVxuXG4gICAgQGZyZWVMaW5lLnRleHQoJCgnI2lucHV0LWZyZWUtdGV4dCcpLnZhbCgpKVxuIiwiKGZ1bmN0aW9uKCkge1xuICB2YXIgVmlld0hhbmRsZXIsXG4gICAgYmluZCA9IGZ1bmN0aW9uKGZuLCBtZSl7IHJldHVybiBmdW5jdGlvbigpeyByZXR1cm4gZm4uYXBwbHkobWUsIGFyZ3VtZW50cyk7IH07IH07XG5cbiAgVmlld0hhbmRsZXIgPSAoZnVuY3Rpb24oKSB7XG4gICAgVmlld0hhbmRsZXIuY29sb3JzID0gWydib3JkZWF1eCcsICdoaW1iZWVyZScsICdhcHJpY290J107XG5cbiAgICBmdW5jdGlvbiBWaWV3SGFuZGxlcihjb250YWluZXIpIHtcbiAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgICAgdGhpcy5yZW5kZXIgPSBiaW5kKHRoaXMucmVuZGVyLCB0aGlzKTtcbiAgICAgIHRoaXMuc2V0dXBGb3JtID0gYmluZCh0aGlzLnNldHVwRm9ybSwgdGhpcyk7XG4gICAgICB0aGlzLnNldHVwQ29sb3JDaG9vc2VyID0gYmluZCh0aGlzLnNldHVwQ29sb3JDaG9vc2VyLCB0aGlzKTtcbiAgICAgIHRoaXMuYmFja2dyb3VuZCA9ICQoJy5sYWJlbC1iYWNrZ3JvdW5kJywgdGhpcy5jb250YWluZXIpO1xuICAgICAgdGhpcy5uYW1lID0gJCgnLm5hbWUnLCB0aGlzLmNvbnRhaW5lcik7XG4gICAgICB0aGlzLmZyb20gPSAkKCcuZnJvbScsIHRoaXMuY29udGFpbmVyKTtcbiAgICAgIHRoaXMuZGF0ZSA9ICQoJy5kYXRlJywgdGhpcy5jb250YWluZXIpO1xuICAgICAgdGhpcy5mcmVlTGluZSA9ICQoJy5mcmVlLWxpbmUnLCB0aGlzLmNvbnRhaW5lcik7XG4gICAgICB0aGlzLnNldHVwRm9ybSgpO1xuICAgICAgdGhpcy5zZXR1cENvbG9yQ2hvb3NlcigpO1xuICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9XG5cbiAgICBWaWV3SGFuZGxlci5wcm90b3R5cGUuc2V0dXBDb2xvckNob29zZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBjb2xvciwgaSwgbGVuLCByZWY7XG4gICAgICByZWYgPSBWaWV3SGFuZGxlci5jb2xvcnM7XG4gICAgICBmb3IgKGkgPSAwLCBsZW4gPSByZWYubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgY29sb3IgPSByZWZbaV07XG4gICAgICAgICQoJy5jb2xvci1jaG9vc2VyJykuYXBwZW5kKFwiPGxpIGNsYXNzPSdcIiArIGNvbG9yICsgXCInIGRhdGEtY29sb3I9J1wiICsgY29sb3IgKyBcIic+PC9saT4gXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuICQoJy5jb2xvci1jaG9vc2VyIGxpJykuY2xpY2soKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgY29sb3IgPSAkKGUuY3VycmVudFRhcmdldCkuZGF0YSgnY29sb3InKTtcbiAgICAgICAgICBfdGhpcy5iYWNrZ3JvdW5kLnByb3AoJ3NyYycsIFwiaW1hZ2VzL2xhYmVscy9cIiArIGNvbG9yICsgXCIuanBnXCIpO1xuICAgICAgICAgIHJldHVybiBfdGhpcy5jb250YWluZXIucmVtb3ZlQ2xhc3MoVmlld0hhbmRsZXIuY29sb3JzLmpvaW4oJyAnKSkuYWRkQ2xhc3MoY29sb3IpO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcykpO1xuICAgIH07XG5cbiAgICBWaWV3SGFuZGxlci5wcm90b3R5cGUuc2V0dXBGb3JtID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgY3VycmVudFllYXIsIGksIGxlbiwgcmVmLCB5ZWFyO1xuICAgICAgY3VycmVudFllYXIgPSAobmV3IERhdGUoKSkuZ2V0RnVsbFllYXIoKTtcbiAgICAgIHJlZiA9IFtjdXJyZW50WWVhciwgY3VycmVudFllYXIgLSAxLCBjdXJyZW50WWVhciAtIDIsIGN1cnJlbnRZZWFyIC0gM107XG4gICAgICBmb3IgKGkgPSAwLCBsZW4gPSByZWYubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgeWVhciA9IHJlZltpXTtcbiAgICAgICAgJCgnI3NlbGVjdC15ZWFyJykuYXBwZW5kKCQoJzxvcHRpb24+Jywge1xuICAgICAgICAgIHZhbHVlOiB5ZWFyLFxuICAgICAgICAgIHRleHQ6IHllYXJcbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgICAgJCgnI2lucHV0LW5hbWUnKS5rZXl1cCh0aGlzLnJlbmRlcik7XG4gICAgICAkKCcjaW5wdXQtcGFyY2VsJykua2V5dXAodGhpcy5yZW5kZXIpO1xuICAgICAgJCgnI2lucHV0LXBhcmNlbCcpLmNoYW5nZSh0aGlzLnJlbmRlcik7XG4gICAgICAkKCcjaW5wdXQtZnJlZS10ZXh0Jykua2V5dXAodGhpcy5yZW5kZXIpO1xuICAgICAgJCgnI3NlbGVjdC1rZ2EnKS5jaGFuZ2UodGhpcy5yZW5kZXIpO1xuICAgICAgJCgnI3NlbGVjdC1tb250aCcpLmNoYW5nZSh0aGlzLnJlbmRlcik7XG4gICAgICAkKCcjc2VsZWN0LXllYXInKS5jaGFuZ2UodGhpcy5yZW5kZXIpO1xuICAgICAgcmV0dXJuICQoJyNidXR0b24tcHJpbnQnKS5jbGljaygoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpcy5jb250YWluZXIucHJpbnQoXCJzdHlsZXMvbWFpbi5jc3NcIik7XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKSk7XG4gICAgfTtcblxuICAgIFZpZXdIYW5kbGVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBkYXRlLCBrZ2EsIHBhcmNlbDtcbiAgICAgIHRoaXMubmFtZS50ZXh0KCQoJyNpbnB1dC1uYW1lJykudmFsKCkpO1xuICAgICAgZGF0ZSA9ICdWb20gJyArICQoJyNzZWxlY3QtbW9udGgnKS52YWwoKSArICcgJyArICQoJyNzZWxlY3QteWVhcicpLnZhbCgpO1xuICAgICAgdGhpcy5kYXRlLnRleHQoZGF0ZSk7XG4gICAgICBwYXJjZWwgPSAnUGFyemVsbGUgJyArICQoJyNpbnB1dC1wYXJjZWwnKS52YWwoKTtcbiAgICAgIGtnYSA9ICQoJyNzZWxlY3Qta2dhJykudmFsKCk7XG4gICAgICB0aGlzLmZyb20udGV4dChwYXJjZWwgKyBcIiB8IFwiICsga2dhKTtcbiAgICAgIHJldHVybiB0aGlzLmZyZWVMaW5lLnRleHQoJCgnI2lucHV0LWZyZWUtdGV4dCcpLnZhbCgpKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFZpZXdIYW5kbGVyO1xuXG4gIH0pKCk7XG5cbiAgKGZ1bmN0aW9uKCkge1xuICAgIChmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAkLmZuLmV4dGVuZCh7XG4gICAgICAgIHByaW50OiBmdW5jdGlvbihzdHlsZUZpbGUpIHtcbiAgICAgICAgICB2YXIgZG9jLCBmcmFtZU5hbWUsIGhlYWQsIGxpbms7XG4gICAgICAgICAgZnJhbWVOYW1lID0gJ3ByaW50SWZyYW1lJztcbiAgICAgICAgICBkb2MgPSB3aW5kb3cuZnJhbWVzW2ZyYW1lTmFtZV07XG4gICAgICAgICAgaWYgKCFkb2MpIHtcbiAgICAgICAgICAgICQoJzxpZnJhbWU+JykuaGlkZSgpLmF0dHIoJ25hbWUnLCBmcmFtZU5hbWUpLmFwcGVuZFRvKGRvY3VtZW50LmJvZHkpO1xuICAgICAgICAgICAgZG9jID0gd2luZG93LmZyYW1lc1tmcmFtZU5hbWVdO1xuICAgICAgICAgICAgaGVhZCA9IGRvYy5kb2N1bWVudC5oZWFkO1xuICAgICAgICAgICAgbGluayA9IGRvYy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcbiAgICAgICAgICAgIGxpbmsudHlwZSA9IFwidGV4dC9jc3NcIjtcbiAgICAgICAgICAgIGxpbmsucmVsID0gXCJzdHlsZXNoZWV0XCI7XG4gICAgICAgICAgICBsaW5rLmhyZWYgPSBzdHlsZUZpbGU7XG4gICAgICAgICAgICBoZWFkLmFwcGVuZENoaWxkKGxpbmspO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkb2MuZG9jdW1lbnQuYm9keS5pbm5lckhUTUwgPSB0aGlzLnBhcmVudCgpLmh0bWwoKTtcbiAgICAgICAgICBkb2Mud2luZG93LnByaW50KCk7XG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pKCk7XG4gICAgcmV0dXJuIG5ldyBWaWV3SGFuZGxlcigkKCcucHJldmlldy1zY3JlZW4nKSk7XG4gIH0pKCk7XG5cbn0pLmNhbGwodGhpcyk7XG4iLCJcbiM9IGluY2x1ZGUgbGliL3ZpZXdfaGFuZGxlci5jb2ZmZWVcblxuZG8gLT5cbiAgIz0gaW5jbHVkZSBsaWIvanF1ZXJ5LnByaW50LmNvZmZlZVxuXG4gIG5ldyBWaWV3SGFuZGxlcigkKCcucHJldmlldy1zY3JlZW4nKSlcbiIsImRvIC0+XG4gICQuZm4uZXh0ZW5kIHByaW50OiAoc3R5bGVGaWxlKS0+XG4gICAgZnJhbWVOYW1lID0gJ3ByaW50SWZyYW1lJ1xuICAgIGRvYyA9IHdpbmRvdy5mcmFtZXNbZnJhbWVOYW1lXVxuICAgIGlmICFkb2NcbiAgICAgICQoJzxpZnJhbWU+JykuaGlkZSgpLmF0dHIoJ25hbWUnLCBmcmFtZU5hbWUpLmFwcGVuZFRvIGRvY3VtZW50LmJvZHlcbiAgICAgIGRvYyA9IHdpbmRvdy5mcmFtZXNbZnJhbWVOYW1lXVxuICAgICAgaGVhZCA9IGRvYy5kb2N1bWVudC5oZWFkXG4gICAgICBsaW5rID0gZG9jLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpXG4gICAgICBsaW5rLnR5cGUgPSBcInRleHQvY3NzXCJcbiAgICAgIGxpbmsucmVsID0gXCJzdHlsZXNoZWV0XCJcbiAgICAgIGxpbmsuaHJlZiA9IHN0eWxlRmlsZVxuICAgICAgaGVhZC5hcHBlbmRDaGlsZChsaW5rKVxuXG4gICAgZG9jLmRvY3VtZW50LmJvZHkuaW5uZXJIVE1MID0gQHBhcmVudCgpLmh0bWwoKVxuICAgIGRvYy53aW5kb3cucHJpbnQoKVxuICAgIHRoaXNcbiJdfQ==
