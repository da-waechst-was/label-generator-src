(function(){var e,t,n=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(){}return e.colors=["bordeaux","himbeere","apricot"],e.unions={"Bezirksverband Prenzlauer Berg":["","Bornholm I e.V.","Bornholm II e.V"],"Bezirkverband Weißensee":["","KGA Heinersdorf e.V."],"Bezirksverband Pankow":["","Hoffnung e.V."],"Bezirksverband Weißensee":[""]},e}(),t=function(){function t(e){this.container=e,this.render=n(this.render,this),this.updateIframeContent=n(this.updateIframeContent,this),this.setupForm=n(this.setupForm,this),this.setupColorChooser=n(this.setupColorChooser,this),this.updateKgas=n(this.updateKgas,this),this.setupUnionChooser=n(this.setupUnionChooser,this),this.background=$(".label-background",this.container),this.name=$(".name",this.container),this.from=$(".from",this.container),this.date=$(".date",this.container),this.freeLine=$(".free-line",this.container),this.setupForm(),this.setupColorChooser(),this.setupUnionChooser(),this.render()}return t.prototype.setupUnionChooser=function(){var t,n,r,o,i,s,a;o=e.unions;for(a in o)s=o[a],$("#select-union").append("<option value='"+a+"'>"+a+"</option>");for(i=e.unions["Bezirksverband Prenzlauer Berg"],t=0,r=i.length;t<r;t++)n=i[t],$("#select-kga").append("<option value='"+n+"'>"+n+"</option>");return $($("#select-kga").find("option").get(1)).attr("selected","selected")},t.prototype.updateKgas=function(){var t,n,r,o,i;for($("#select-kga").find("option").remove(),t=$("#select-union").val(),i=e.unions[t],n=0,o=i.length;n<o;n++)r=i[n],$("#select-kga").append("<option value='"+r+"'>"+r+"</option>");return $($("#select-kga").find("option").get(1)).attr("selected","selected"),this.render()},t.prototype.setupColorChooser=function(){var t,n,r,o;for(o=e.colors,n=0,r=o.length;n<r;n++)t=o[n],$(".color-chooser").append("<li class='"+t+"' data-color='"+t+"'></li> ");return $(".color-chooser li").click(function(n){return function(r){return t=$(r.currentTarget).data("color"),n.background.prop("src","images/labels/"+t+".jpg"),n.container.removeClass(e.colors.join(" ")).addClass(t)}}(this))},t.prototype.setupForm=function(){var e,t,n,r,o;for(e=(new Date).getFullYear(),r=[e,e-1,e-2,e-3],t=0,n=r.length;t<n;t++)o=r[t],$("#select-year").append($("<option>",{value:o,text:o}));return $("#input-name").keyup(this.render),$("#input-parcel").keyup(this.render),$("#input-parcel").change(this.render),$("#input-free-text").keyup(this.render),$("#select-kga").change(this.render),$("#select-union").change(this.updateKgas),$("#select-month").change(this.render),$("#select-year").change(this.render),$("#button-print").click(function(e){return function(){var t,n;return n=window.frames.printIframe,t=e.container.parent().html(),n.document.body.innerHTML=t+t+t+t+t+t+t+t+t+t,setTimeout(function(){return window.frames.printIframe.window.print()},200)}}(this))},t.prototype.updateIframeContent=function(){var e,t;if(t=window.frames.printIframe)return e=this.container.parent().html(),t.document.body.innerHTML=e+e+e+e+e+e+e+e+e+e},t.prototype.render=function(){var e,t,n,r,o;return this.name.text($("#input-name").val()),e="vom "+$("#select-month").val()+" "+$("#select-year").val(),this.date.text(e),r=$("#input-parcel").val(),n=$("#select-kga").val(),o=$("#select-union").val(),r||n?(t="<div class='union'>Aus dem "+o+"</div>",r&&(r="Parzelle "+r),t+=[r,n].filter(function(e){return e}).join(" - ")):t="<div class='union single'>Aus dem "+o+"</div>",this.from.html(t),this.freeLine.text($("#input-free-text").val()),this.updateIframeContent()},t}(),function(){return new t($(".preview-screen"))}()}).call(this);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9jb25maWcuY29mZmVlIiwibWFpbi5qcyIsImxpYi92aWV3X2hhbmRsZXIuY29mZmVlIiwibWFpbi5jb2ZmZWUiXSwibmFtZXMiOlsiQ29uZmlnIiwiVmlld0hhbmRsZXIiLCJiaW5kIiwiZm4iLCJtZSIsImFwcGx5IiwiYXJndW1lbnRzIiwiY29sb3JzIiwidW5pb25zIiwiQmV6aXJrc3ZlcmJhbmQgUHJlbnpsYXVlciBCZXJnIiwiQmV6aXJrdmVyYmFuZCBXZWnDn2Vuc2VlIiwiQmV6aXJrc3ZlcmJhbmQgUGFua293IiwiQmV6aXJrc3ZlcmJhbmQgV2Vpw59lbnNlZSIsImNvbnRhaW5lciIsInRoaXMiLCJyZW5kZXIiLCJ1cGRhdGVJZnJhbWVDb250ZW50Iiwic2V0dXBGb3JtIiwic2V0dXBDb2xvckNob29zZXIiLCJ1cGRhdGVLZ2FzIiwic2V0dXBVbmlvbkNob29zZXIiLCJiYWNrZ3JvdW5kIiwiJCIsIm5hbWUiLCJmcm9tIiwiZGF0ZSIsImZyZWVMaW5lIiwicHJvdG90eXBlIiwiaSIsImtnYSIsImxlbiIsInJlZiIsInJlZjEiLCJ1bmlvbkNvbmZpZyIsInVuaW9uTmFtZSIsImFwcGVuZCIsImxlbmd0aCIsImZpbmQiLCJnZXQiLCJhdHRyIiwiY3VycmVudCIsInJlbW92ZSIsInZhbCIsImNvbG9yIiwiY2xpY2siLCJfdGhpcyIsImUiLCJjdXJyZW50VGFyZ2V0IiwiZGF0YSIsInByb3AiLCJyZW1vdmVDbGFzcyIsImpvaW4iLCJhZGRDbGFzcyIsImN1cnJlbnRZZWFyIiwieWVhciIsIkRhdGUiLCJnZXRGdWxsWWVhciIsInZhbHVlIiwidGV4dCIsImtleXVwIiwiY2hhbmdlIiwiY29udGVudCIsImRvYyIsIndpbmRvdyIsImZyYW1lcyIsInBhcmVudCIsImh0bWwiLCJkb2N1bWVudCIsImJvZHkiLCJpbm5lckhUTUwiLCJzZXRUaW1lb3V0IiwicHJpbnQiLCJwYXJjZWwiLCJ1bmlvbiIsImZpbHRlciIsImNhbGwiXSwibWFwcGluZ3MiOiJD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QyxHQUFBQyxDQUNBLElBREFBLEVBQUFDLE9BQUFDLE9BQUEsWURnRE0sTUM5Q05ILEdBQUEvQyxLQUFBRCxVQUFBb0QsU0FBQUMsT0FDQUosRUFBQUssU0FBQUMsS0FBQUMsVUFBQVIsRUFBQUEsRUFBQUEsRUFBQUEsRUFBQUEsRUFBQUEsRUFBQUEsRUFBQUEsRUFBQUEsRUFBQUEsR0RnREk1RCxFQUFZMEIsVUM5Q2hCWixPQUFBLFdBQ0EsR0FBQVUsR0FBQUQsRUFBQUssRUFBQTJDLEVBQUFDLENEa0VNLE9DbEVOM0QsTUFBQVMsS0FBQW1DLEtBQUFwQyxFQUFBLGVBQUFvQixPQUVBakIsRUFBQSxPQUFBSCxFQUFBLGlCQUFBb0IsTUFBQSxJQUFBcEIsRUFBQSxnQkFBQW9CLE1BQ0E1QixLQUFBVyxLQUFBaUMsS0FBQWpDLEdBRUErQyxFQUFBbEQsRUFBQSxpQkFBQW9CLE1BQ0FiLEVBQUFQLEVBQUEsZUFBQW9CLE1BQ0ErQixFQUFBbkQsRUFBQSxpQkFBQW9CLE1BRUE4QixHQUFBM0MsR0FHQUwsRUFBQSw4QkFBQWlELEVBQUEsU0FDQUQsSUFBQUEsRUFBQSxZQUFBQSxHQUNBaEQsSUFBQWdELEVBQUEzQyxHQUFBNkMsT0FBQSxTQUFBNUIsR0QrQ1UsTUMvQ1ZBLEtBQUFLLEtBQUEsUUFKQTNCLEVBQUEscUNBQUFpRCxFQUFBLFNBTUEzRCxLQUFBVSxLQUFBMEMsS0FBQTFDLEdBRUFWLEtBQUFZLFNBQUFnQyxLQUFBcEMsRUFBQSxvQkFBQW9CLE9BRUE1QixLQUFBRSx1QkRpRFdmLEtFbEpYLFdGdUpJLE1FdEpKLElBQUFBLEdBQUFxQixFQUFBLHlCRnlKR3FELEtBQUs3RCIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgQ29uZmlnXG4gIEBjb2xvcnMgPSBbXG4gICAgJ2JvcmRlYXV4J1xuICAgICdoaW1iZWVyZSdcbiAgICAnYXByaWNvdCdcbiAgXVxuXG4gIEB1bmlvbnMgPSB7XG4gICAgJ0Jlemlya3N2ZXJiYW5kIFByZW56bGF1ZXIgQmVyZyc6IFtcbiAgICAgICcnXG4gICAgICAnQm9ybmhvbG0gSSBlLlYuJ1xuICAgICAgJ0Jvcm5ob2xtIElJIGUuVidcbiAgICBdXG4gICAgJ0Jlemlya3ZlcmJhbmQgV2Vpw59lbnNlZScgOiBbXG4gICAgICAnJ1xuICAgICAgJ0tHQSBIZWluZXJzZG9yZiBlLlYuJ1xuICAgIF1cbiAgICAnQmV6aXJrc3ZlcmJhbmQgUGFua293JyA6IFtcbiAgICAgICcnXG4gICAgICAnSG9mZm51bmcgZS5WLidcbiAgICBdXG4gICAgJ0Jlemlya3N2ZXJiYW5kIFdlacOfZW5zZWUnOiBbXG4gICAgICAnJ1xuICAgIF1cbiAgfVxuIiwiKGZ1bmN0aW9uKCkge1xuICB2YXIgQ29uZmlnLCBWaWV3SGFuZGxlcixcbiAgICBiaW5kID0gZnVuY3Rpb24oZm4sIG1lKXsgcmV0dXJuIGZ1bmN0aW9uKCl7IHJldHVybiBmbi5hcHBseShtZSwgYXJndW1lbnRzKTsgfTsgfTtcblxuICBDb25maWcgPSAoZnVuY3Rpb24oKSB7XG4gICAgZnVuY3Rpb24gQ29uZmlnKCkge31cblxuICAgIENvbmZpZy5jb2xvcnMgPSBbJ2JvcmRlYXV4JywgJ2hpbWJlZXJlJywgJ2Fwcmljb3QnXTtcblxuICAgIENvbmZpZy51bmlvbnMgPSB7XG4gICAgICAnQmV6aXJrc3ZlcmJhbmQgUHJlbnpsYXVlciBCZXJnJzogWycnLCAnQm9ybmhvbG0gSSBlLlYuJywgJ0Jvcm5ob2xtIElJIGUuViddLFxuICAgICAgJ0Jlemlya3ZlcmJhbmQgV2Vpw59lbnNlZSc6IFsnJywgJ0tHQSBIZWluZXJzZG9yZiBlLlYuJ10sXG4gICAgICAnQmV6aXJrc3ZlcmJhbmQgUGFua293JzogWycnLCAnSG9mZm51bmcgZS5WLiddLFxuICAgICAgJ0Jlemlya3N2ZXJiYW5kIFdlacOfZW5zZWUnOiBbJyddXG4gICAgfTtcblxuICAgIHJldHVybiBDb25maWc7XG5cbiAgfSkoKTtcblxuICBWaWV3SGFuZGxlciA9IChmdW5jdGlvbigpIHtcbiAgICBmdW5jdGlvbiBWaWV3SGFuZGxlcihjb250YWluZXIpIHtcbiAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgICAgdGhpcy5yZW5kZXIgPSBiaW5kKHRoaXMucmVuZGVyLCB0aGlzKTtcbiAgICAgIHRoaXMudXBkYXRlSWZyYW1lQ29udGVudCA9IGJpbmQodGhpcy51cGRhdGVJZnJhbWVDb250ZW50LCB0aGlzKTtcbiAgICAgIHRoaXMuc2V0dXBGb3JtID0gYmluZCh0aGlzLnNldHVwRm9ybSwgdGhpcyk7XG4gICAgICB0aGlzLnNldHVwQ29sb3JDaG9vc2VyID0gYmluZCh0aGlzLnNldHVwQ29sb3JDaG9vc2VyLCB0aGlzKTtcbiAgICAgIHRoaXMudXBkYXRlS2dhcyA9IGJpbmQodGhpcy51cGRhdGVLZ2FzLCB0aGlzKTtcbiAgICAgIHRoaXMuc2V0dXBVbmlvbkNob29zZXIgPSBiaW5kKHRoaXMuc2V0dXBVbmlvbkNob29zZXIsIHRoaXMpO1xuICAgICAgdGhpcy5iYWNrZ3JvdW5kID0gJCgnLmxhYmVsLWJhY2tncm91bmQnLCB0aGlzLmNvbnRhaW5lcik7XG4gICAgICB0aGlzLm5hbWUgPSAkKCcubmFtZScsIHRoaXMuY29udGFpbmVyKTtcbiAgICAgIHRoaXMuZnJvbSA9ICQoJy5mcm9tJywgdGhpcy5jb250YWluZXIpO1xuICAgICAgdGhpcy5kYXRlID0gJCgnLmRhdGUnLCB0aGlzLmNvbnRhaW5lcik7XG4gICAgICB0aGlzLmZyZWVMaW5lID0gJCgnLmZyZWUtbGluZScsIHRoaXMuY29udGFpbmVyKTtcbiAgICAgIHRoaXMuc2V0dXBGb3JtKCk7XG4gICAgICB0aGlzLnNldHVwQ29sb3JDaG9vc2VyKCk7XG4gICAgICB0aGlzLnNldHVwVW5pb25DaG9vc2VyKCk7XG4gICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH1cblxuICAgIFZpZXdIYW5kbGVyLnByb3RvdHlwZS5zZXR1cFVuaW9uQ2hvb3NlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGksIGtnYSwgbGVuLCByZWYsIHJlZjEsIHVuaW9uQ29uZmlnLCB1bmlvbk5hbWU7XG4gICAgICByZWYgPSBDb25maWcudW5pb25zO1xuICAgICAgZm9yICh1bmlvbk5hbWUgaW4gcmVmKSB7XG4gICAgICAgIHVuaW9uQ29uZmlnID0gcmVmW3VuaW9uTmFtZV07XG4gICAgICAgICQoJyNzZWxlY3QtdW5pb24nKS5hcHBlbmQoXCI8b3B0aW9uIHZhbHVlPSdcIiArIHVuaW9uTmFtZSArIFwiJz5cIiArIHVuaW9uTmFtZSArIFwiPC9vcHRpb24+XCIpO1xuICAgICAgfVxuICAgICAgcmVmMSA9IENvbmZpZy51bmlvbnNbJ0Jlemlya3N2ZXJiYW5kIFByZW56bGF1ZXIgQmVyZyddO1xuICAgICAgZm9yIChpID0gMCwgbGVuID0gcmVmMS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBrZ2EgPSByZWYxW2ldO1xuICAgICAgICAkKCcjc2VsZWN0LWtnYScpLmFwcGVuZChcIjxvcHRpb24gdmFsdWU9J1wiICsga2dhICsgXCInPlwiICsga2dhICsgXCI8L29wdGlvbj5cIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gJCgkKCcjc2VsZWN0LWtnYScpLmZpbmQoJ29wdGlvbicpLmdldCgxKSkuYXR0cignc2VsZWN0ZWQnLCAnc2VsZWN0ZWQnKTtcbiAgICB9O1xuXG4gICAgVmlld0hhbmRsZXIucHJvdG90eXBlLnVwZGF0ZUtnYXMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBjdXJyZW50LCBpLCBrZ2EsIGxlbiwgcmVmO1xuICAgICAgJCgnI3NlbGVjdC1rZ2EnKS5maW5kKCdvcHRpb24nKS5yZW1vdmUoKTtcbiAgICAgIGN1cnJlbnQgPSAkKCcjc2VsZWN0LXVuaW9uJykudmFsKCk7XG4gICAgICByZWYgPSBDb25maWcudW5pb25zW2N1cnJlbnRdO1xuICAgICAgZm9yIChpID0gMCwgbGVuID0gcmVmLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGtnYSA9IHJlZltpXTtcbiAgICAgICAgJCgnI3NlbGVjdC1rZ2EnKS5hcHBlbmQoXCI8b3B0aW9uIHZhbHVlPSdcIiArIGtnYSArIFwiJz5cIiArIGtnYSArIFwiPC9vcHRpb24+XCIpO1xuICAgICAgfVxuICAgICAgJCgkKCcjc2VsZWN0LWtnYScpLmZpbmQoJ29wdGlvbicpLmdldCgxKSkuYXR0cignc2VsZWN0ZWQnLCAnc2VsZWN0ZWQnKTtcbiAgICAgIHJldHVybiB0aGlzLnJlbmRlcigpO1xuICAgIH07XG5cbiAgICBWaWV3SGFuZGxlci5wcm90b3R5cGUuc2V0dXBDb2xvckNob29zZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBjb2xvciwgaSwgbGVuLCByZWY7XG4gICAgICByZWYgPSBDb25maWcuY29sb3JzO1xuICAgICAgZm9yIChpID0gMCwgbGVuID0gcmVmLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGNvbG9yID0gcmVmW2ldO1xuICAgICAgICAkKCcuY29sb3ItY2hvb3NlcicpLmFwcGVuZChcIjxsaSBjbGFzcz0nXCIgKyBjb2xvciArIFwiJyBkYXRhLWNvbG9yPSdcIiArIGNvbG9yICsgXCInPjwvbGk+IFwiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAkKCcuY29sb3ItY2hvb3NlciBsaScpLmNsaWNrKChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oZSkge1xuICAgICAgICAgIGNvbG9yID0gJChlLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ2NvbG9yJyk7XG4gICAgICAgICAgX3RoaXMuYmFja2dyb3VuZC5wcm9wKCdzcmMnLCBcImltYWdlcy9sYWJlbHMvXCIgKyBjb2xvciArIFwiLmpwZ1wiKTtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuY29udGFpbmVyLnJlbW92ZUNsYXNzKENvbmZpZy5jb2xvcnMuam9pbignICcpKS5hZGRDbGFzcyhjb2xvcik7XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKSk7XG4gICAgfTtcblxuICAgIFZpZXdIYW5kbGVyLnByb3RvdHlwZS5zZXR1cEZvcm0gPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBjdXJyZW50WWVhciwgaSwgbGVuLCByZWYsIHllYXI7XG4gICAgICBjdXJyZW50WWVhciA9IChuZXcgRGF0ZSgpKS5nZXRGdWxsWWVhcigpO1xuICAgICAgcmVmID0gW2N1cnJlbnRZZWFyLCBjdXJyZW50WWVhciAtIDEsIGN1cnJlbnRZZWFyIC0gMiwgY3VycmVudFllYXIgLSAzXTtcbiAgICAgIGZvciAoaSA9IDAsIGxlbiA9IHJlZi5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB5ZWFyID0gcmVmW2ldO1xuICAgICAgICAkKCcjc2VsZWN0LXllYXInKS5hcHBlbmQoJCgnPG9wdGlvbj4nLCB7XG4gICAgICAgICAgdmFsdWU6IHllYXIsXG4gICAgICAgICAgdGV4dDogeWVhclxuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgICAkKCcjaW5wdXQtbmFtZScpLmtleXVwKHRoaXMucmVuZGVyKTtcbiAgICAgICQoJyNpbnB1dC1wYXJjZWwnKS5rZXl1cCh0aGlzLnJlbmRlcik7XG4gICAgICAkKCcjaW5wdXQtcGFyY2VsJykuY2hhbmdlKHRoaXMucmVuZGVyKTtcbiAgICAgICQoJyNpbnB1dC1mcmVlLXRleHQnKS5rZXl1cCh0aGlzLnJlbmRlcik7XG4gICAgICAkKCcjc2VsZWN0LWtnYScpLmNoYW5nZSh0aGlzLnJlbmRlcik7XG4gICAgICAkKCcjc2VsZWN0LXVuaW9uJykuY2hhbmdlKHRoaXMudXBkYXRlS2dhcyk7XG4gICAgICAkKCcjc2VsZWN0LW1vbnRoJykuY2hhbmdlKHRoaXMucmVuZGVyKTtcbiAgICAgICQoJyNzZWxlY3QteWVhcicpLmNoYW5nZSh0aGlzLnJlbmRlcik7XG4gICAgICByZXR1cm4gJCgnI2J1dHRvbi1wcmludCcpLmNsaWNrKChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGNvbnRlbnQsIGRvYztcbiAgICAgICAgICBkb2MgPSB3aW5kb3cuZnJhbWVzWydwcmludElmcmFtZSddO1xuICAgICAgICAgIGNvbnRlbnQgPSBfdGhpcy5jb250YWluZXIucGFyZW50KCkuaHRtbCgpO1xuICAgICAgICAgIGRvYy5kb2N1bWVudC5ib2R5LmlubmVySFRNTCA9IGNvbnRlbnQgKyBjb250ZW50ICsgY29udGVudCArIGNvbnRlbnQgKyBjb250ZW50ICsgY29udGVudCArIGNvbnRlbnQgKyBjb250ZW50ICsgY29udGVudCArIGNvbnRlbnQ7XG4gICAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gd2luZG93LmZyYW1lc1sncHJpbnRJZnJhbWUnXS53aW5kb3cucHJpbnQoKTtcbiAgICAgICAgICB9LCAyMDApO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcykpO1xuICAgIH07XG5cbiAgICBWaWV3SGFuZGxlci5wcm90b3R5cGUudXBkYXRlSWZyYW1lQ29udGVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGNvbnRlbnQsIGRvYztcbiAgICAgIGRvYyA9IHdpbmRvdy5mcmFtZXNbJ3ByaW50SWZyYW1lJ107XG4gICAgICBpZiAoIWRvYykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb250ZW50ID0gdGhpcy5jb250YWluZXIucGFyZW50KCkuaHRtbCgpO1xuICAgICAgcmV0dXJuIGRvYy5kb2N1bWVudC5ib2R5LmlubmVySFRNTCA9IGNvbnRlbnQgKyBjb250ZW50ICsgY29udGVudCArIGNvbnRlbnQgKyBjb250ZW50ICsgY29udGVudCArIGNvbnRlbnQgKyBjb250ZW50ICsgY29udGVudCArIGNvbnRlbnQ7XG4gICAgfTtcblxuICAgIFZpZXdIYW5kbGVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBkYXRlLCBmcm9tLCBrZ2EsIHBhcmNlbCwgdW5pb247XG4gICAgICB0aGlzLm5hbWUudGV4dCgkKCcjaW5wdXQtbmFtZScpLnZhbCgpKTtcbiAgICAgIGRhdGUgPSAndm9tICcgKyAkKCcjc2VsZWN0LW1vbnRoJykudmFsKCkgKyAnICcgKyAkKCcjc2VsZWN0LXllYXInKS52YWwoKTtcbiAgICAgIHRoaXMuZGF0ZS50ZXh0KGRhdGUpO1xuICAgICAgcGFyY2VsID0gJCgnI2lucHV0LXBhcmNlbCcpLnZhbCgpO1xuICAgICAga2dhID0gJCgnI3NlbGVjdC1rZ2EnKS52YWwoKTtcbiAgICAgIHVuaW9uID0gJCgnI3NlbGVjdC11bmlvbicpLnZhbCgpO1xuICAgICAgaWYgKCFwYXJjZWwgJiYgIWtnYSkge1xuICAgICAgICBmcm9tID0gXCI8ZGl2IGNsYXNzPSd1bmlvbiBzaW5nbGUnPkF1cyBkZW0gXCIgKyB1bmlvbiArIFwiPC9kaXY+XCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmcm9tID0gXCI8ZGl2IGNsYXNzPSd1bmlvbic+QXVzIGRlbSBcIiArIHVuaW9uICsgXCI8L2Rpdj5cIjtcbiAgICAgICAgaWYgKHBhcmNlbCkge1xuICAgICAgICAgIHBhcmNlbCA9IFwiUGFyemVsbGUgXCIgKyBwYXJjZWw7XG4gICAgICAgIH1cbiAgICAgICAgZnJvbSA9IGZyb20gKyBbcGFyY2VsLCBrZ2FdLmZpbHRlcihmdW5jdGlvbihlKSB7XG4gICAgICAgICAgcmV0dXJuIGU7XG4gICAgICAgIH0pLmpvaW4oJyAtICcpO1xuICAgICAgfVxuICAgICAgdGhpcy5mcm9tLmh0bWwoZnJvbSk7XG4gICAgICB0aGlzLmZyZWVMaW5lLnRleHQoJCgnI2lucHV0LWZyZWUtdGV4dCcpLnZhbCgpKTtcbiAgICAgIHJldHVybiB0aGlzLnVwZGF0ZUlmcmFtZUNvbnRlbnQoKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFZpZXdIYW5kbGVyO1xuXG4gIH0pKCk7XG5cbiAgKGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXcgVmlld0hhbmRsZXIoJCgnLnByZXZpZXctc2NyZWVuJykpO1xuICB9KSgpO1xuXG59KS5jYWxsKHRoaXMpO1xuIiwiXG5jbGFzcyBWaWV3SGFuZGxlclxuICBjb25zdHJ1Y3RvcjogKEBjb250YWluZXIpIC0+XG4gICAgQGJhY2tncm91bmQgPSAkKCcubGFiZWwtYmFja2dyb3VuZCcsIEBjb250YWluZXIpXG4gICAgQG5hbWUgICAgICAgPSAkKCcubmFtZScsIEBjb250YWluZXIpXG4gICAgQGZyb20gICAgICAgPSAkKCcuZnJvbScsIEBjb250YWluZXIpXG4gICAgQGRhdGUgICAgICAgPSAkKCcuZGF0ZScsIEBjb250YWluZXIpXG4gICAgQGZyZWVMaW5lICAgPSAkKCcuZnJlZS1saW5lJywgQGNvbnRhaW5lcilcblxuICAgIEBzZXR1cEZvcm0oKVxuICAgIEBzZXR1cENvbG9yQ2hvb3NlcigpXG4gICAgQHNldHVwVW5pb25DaG9vc2VyKClcbiAgICBAcmVuZGVyKClcblxuICBzZXR1cFVuaW9uQ2hvb3NlcjogPT5cbiAgICBmb3IgdW5pb25OYW1lLCB1bmlvbkNvbmZpZyBvZiBDb25maWcudW5pb25zXG4gICAgICAkKCcjc2VsZWN0LXVuaW9uJykuYXBwZW5kKFwiPG9wdGlvbiB2YWx1ZT0nI3t1bmlvbk5hbWV9Jz4je3VuaW9uTmFtZX08L29wdGlvbj5cIilcblxuICAgIGZvciBrZ2EgaW4gQ29uZmlnLnVuaW9uc1snQmV6aXJrc3ZlcmJhbmQgUHJlbnpsYXVlciBCZXJnJ11cbiAgICAgICQoJyNzZWxlY3Qta2dhJykuYXBwZW5kKFwiPG9wdGlvbiB2YWx1ZT0nI3trZ2F9Jz4je2tnYX08L29wdGlvbj5cIilcblxuICAgICQoJCgnI3NlbGVjdC1rZ2EnKS5maW5kKCdvcHRpb24nKS5nZXQoMSkpLmF0dHIoJ3NlbGVjdGVkJywnc2VsZWN0ZWQnKVxuXG4gIHVwZGF0ZUtnYXM6ID0+XG4gICAgJCgnI3NlbGVjdC1rZ2EnKS5maW5kKCdvcHRpb24nKS5yZW1vdmUoKVxuXG4gICAgY3VycmVudCA9ICQoJyNzZWxlY3QtdW5pb24nKS52YWwoKVxuICAgIGZvciBrZ2EgaW4gQ29uZmlnLnVuaW9uc1tjdXJyZW50XVxuICAgICAgJCgnI3NlbGVjdC1rZ2EnKS5hcHBlbmQoXCI8b3B0aW9uIHZhbHVlPScje2tnYX0nPiN7a2dhfTwvb3B0aW9uPlwiKVxuXG4gICAgJCgkKCcjc2VsZWN0LWtnYScpLmZpbmQoJ29wdGlvbicpLmdldCgxKSkuYXR0cignc2VsZWN0ZWQnLCdzZWxlY3RlZCcpXG5cbiAgICBAcmVuZGVyKClcblxuICBzZXR1cENvbG9yQ2hvb3NlcjogPT5cbiAgICBmb3IgY29sb3IgaW4gQ29uZmlnLmNvbG9yc1xuICAgICAgJCgnLmNvbG9yLWNob29zZXInKS5hcHBlbmQoXCI8bGkgY2xhc3M9JyN7Y29sb3J9JyBkYXRhLWNvbG9yPScje2NvbG9yfSc+PC9saT4gXCIpXG5cbiAgICAkKCcuY29sb3ItY2hvb3NlciBsaScpLmNsaWNrKCAoZSkgPT5cbiAgICAgIGNvbG9yID0gJChlLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ2NvbG9yJylcbiAgICAgIEBiYWNrZ3JvdW5kLnByb3AoJ3NyYycsIFwiaW1hZ2VzL2xhYmVscy8je2NvbG9yfS5qcGdcIilcbiAgICAgIEBjb250YWluZXIucmVtb3ZlQ2xhc3MoQ29uZmlnLmNvbG9ycy5qb2luKCcgJykpXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKGNvbG9yKVxuICAgIClcblxuICBzZXR1cEZvcm06ID0+XG4gICAgY3VycmVudFllYXIgPSAobmV3IERhdGUoKSkuZ2V0RnVsbFllYXIoKVxuICAgIGZvciB5ZWFyIGluIFtjdXJyZW50WWVhciwgY3VycmVudFllYXIgLSAxLCBjdXJyZW50WWVhciAtIDIsIGN1cnJlbnRZZWFyIC0gM11cbiAgICAgICQoJyNzZWxlY3QteWVhcicpLmFwcGVuZCgkKCc8b3B0aW9uPicsIHt2YWx1ZTogeWVhciwgdGV4dDogeWVhcn0pKVxuXG4gICAgJCgnI2lucHV0LW5hbWUnKS5rZXl1cCBAcmVuZGVyXG4gICAgJCgnI2lucHV0LXBhcmNlbCcpLmtleXVwIEByZW5kZXJcbiAgICAkKCcjaW5wdXQtcGFyY2VsJykuY2hhbmdlIEByZW5kZXJcbiAgICAkKCcjaW5wdXQtZnJlZS10ZXh0Jykua2V5dXAgQHJlbmRlclxuICAgICQoJyNzZWxlY3Qta2dhJykuY2hhbmdlIEByZW5kZXJcbiAgICAkKCcjc2VsZWN0LXVuaW9uJykuY2hhbmdlIEB1cGRhdGVLZ2FzXG4gICAgJCgnI3NlbGVjdC1tb250aCcpLmNoYW5nZSBAcmVuZGVyXG4gICAgJCgnI3NlbGVjdC15ZWFyJykuY2hhbmdlIEByZW5kZXJcblxuICAgICQoJyNidXR0b24tcHJpbnQnKS5jbGljayggPT5cbiAgICAgIGRvYyA9IHdpbmRvdy5mcmFtZXNbJ3ByaW50SWZyYW1lJ11cbiAgICAgIGNvbnRlbnQgPSBAY29udGFpbmVyLnBhcmVudCgpLmh0bWwoKVxuICAgICAgZG9jLmRvY3VtZW50LmJvZHkuaW5uZXJIVE1MID0gY29udGVudCArIGNvbnRlbnQgKyBjb250ZW50ICsgY29udGVudCArIGNvbnRlbnQgKyBjb250ZW50ICsgY29udGVudCArIGNvbnRlbnQgKyBjb250ZW50ICsgY29udGVudFxuXG4gICAgICAjICQod2luZG93LmZyYW1lc1sncHJpbnRJZnJhbWUnXSkucmVhZHkoIC0+XG4gICAgICAjICAgZG9jLndpbmRvdy5wcmludCgpXG4gICAgICAjIClcbiAgICAgIHNldFRpbWVvdXQoXG4gICAgICAgIC0+XG4gICAgICAgICAgd2luZG93LmZyYW1lc1sncHJpbnRJZnJhbWUnXS53aW5kb3cucHJpbnQoKVxuICAgICAgICAsIDIwMFxuICAgICAgKVxuICAgIClcblxuICB1cGRhdGVJZnJhbWVDb250ZW50OiA9PlxuICAgIGRvYyA9IHdpbmRvdy5mcmFtZXNbJ3ByaW50SWZyYW1lJ11cbiAgICByZXR1cm4gdW5sZXNzIGRvY1xuICAgIGNvbnRlbnQgPSBAY29udGFpbmVyLnBhcmVudCgpLmh0bWwoKVxuICAgIGRvYy5kb2N1bWVudC5ib2R5LmlubmVySFRNTCA9IGNvbnRlbnQgKyBjb250ZW50ICsgY29udGVudCArIGNvbnRlbnQgKyBjb250ZW50ICsgY29udGVudCArIGNvbnRlbnQgKyBjb250ZW50ICsgY29udGVudCArIGNvbnRlbnRcblxuICByZW5kZXI6ID0+XG4gICAgQG5hbWUudGV4dCgkKCcjaW5wdXQtbmFtZScpLnZhbCgpKVxuXG4gICAgZGF0ZSAgID0gJ3ZvbSAnICsgJCgnI3NlbGVjdC1tb250aCcpLnZhbCgpICsgJyAnICsgJCgnI3NlbGVjdC15ZWFyJykudmFsKClcbiAgICBAZGF0ZS50ZXh0KGRhdGUpXG5cbiAgICBwYXJjZWwgPSAkKCcjaW5wdXQtcGFyY2VsJykudmFsKClcbiAgICBrZ2EgICAgPSAkKCcjc2VsZWN0LWtnYScpLnZhbCgpXG4gICAgdW5pb24gID0gJCgnI3NlbGVjdC11bmlvbicpLnZhbCgpXG5cbiAgICBpZiAhcGFyY2VsICYmICFrZ2FcbiAgICAgIGZyb20gPSBcIjxkaXYgY2xhc3M9J3VuaW9uIHNpbmdsZSc+QXVzIGRlbSAje3VuaW9ufTwvZGl2PlwiXG4gICAgZWxzZVxuICAgICAgZnJvbSA9IFwiPGRpdiBjbGFzcz0ndW5pb24nPkF1cyBkZW0gI3t1bmlvbn08L2Rpdj5cIlxuICAgICAgcGFyY2VsID0gXCJQYXJ6ZWxsZSAje3BhcmNlbH1cIiBpZiBwYXJjZWxcbiAgICAgIGZyb20gPSBmcm9tICsgW3BhcmNlbCwga2dhXS5maWx0ZXIoKGUpIC0+IGUpLmpvaW4oJyAtICcpXG5cbiAgICBAZnJvbS5odG1sKGZyb20pXG5cbiAgICBAZnJlZUxpbmUudGV4dCgkKCcjaW5wdXQtZnJlZS10ZXh0JykudmFsKCkpXG5cbiAgICBAdXBkYXRlSWZyYW1lQ29udGVudCgpXG4iLCJcbiM9IGluY2x1ZGUgbGliL2NvbmZpZy5jb2ZmZWVcbiM9IGluY2x1ZGUgbGliL3ZpZXdfaGFuZGxlci5jb2ZmZWVcblxuZG8gLT5cbiAgbmV3IFZpZXdIYW5kbGVyKCQoJy5wcmV2aWV3LXNjcmVlbicpKVxuIl19
